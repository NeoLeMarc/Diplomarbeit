
%%%------------------------------------------------STAND DER TECHNIK------------------------------------------------------------------
\chapter{Stand der Technik}\label{Stand der Technik}

\section{Einleitung}
In diesem Kapitel wird der Stand der Technik von kabellosen Patientenüberwachungstechnologien untersucht. 
Hierzu wird zunächst in Abschnitt~\ref{kabellose_uebertragungsprotokolle} allgemein eine Reihe von potentiell
geeigneten Übertragungsprotokollen vorgestellt und jeweils kurz diskutiert, ob und wie gut diese als 
Basistechnologie für die Lösung der Problemstellung dieser Diplomarbeit geeignet sind. Im darauf folgenden
Abschnitt~\ref{produkte_zur_patientenueberwachung} wird dann die aktuelle Marktsituation fertiger Produkte,
die zur Überwachung von Patienten in einem \emph{MANV}-Szenario in Frage kommen, vorgestellt und die Eignung dieser
Produkte diskutiert. Den Abschluss dieses Kapitels bildet Abschnitt~\ref{verwandte_projekte}, in dem
kurz auf ähnliche Projekte eingegangen wird, die momentan an anderer Stelle in Arbeit sind.

\section{Kabellose Übertragungsprotokolle}\label{kabellose_uebertragungsprotokolle}
    \subsection{Einführung}
        In diesem Abschnitt werden die gängigsten Funkprotokolle kurz vorgestellt. Insbesondere wird erläutert,
        inwieweit das entsprechende Protokoll als Grundlage für das zu entwickelnde Sensornetz geeignet ist.
        Kommt diese Untersuchung zu einem positiven Ergebnis, wird eine genauere Betrachtung der Störsicherheit
        vorgenommen. Hierbei wird insbesondere auf die Störungen durch \emph{WLAN}- und \emph{Bluetooth}-Geräte
        eingegangen, da diese Technologien mittlerweile eine weite Verbreitung in Mobiltelefonen gefunden
        haben, und somit eine Störung durch die Mobiltelefone der Unfallopfer und Helfer zu erwarten ist. Außerdem
        ist geplant, ein \emph{WLAN}-Netzwerk für die Koordination des Überwachungssystems einzusetzen, so dass
        auch hier auf gegenseitige Störungen geachtet werden muss.

        Mit Ausnahme von \emph{DECT} und \emph{GSM} bzw. \emph{UMTS} ist diesen Protokollen gemein, dass 
        sie Frequenzen aus dem \emph{ISM}-Band\footnote{Mehrere Frequenzbänder, für deren Benutzung eine allgemeine 
            Betriebserlaubnis ausreicht.} verwenden. 
        \nomenclature{ISM-Band}{\emph{Industrial, Scientific and Medical Band}\,--\,Mehrere Frequenzbänder, 
                           für deren Benutzung eine allgemeine Betriebserlaubnis ausreicht.}

    \subsection{DECT}
        \nomenclature{mW}{Milliwatt}
        \nomenclature{mV}{Millivolt}
        \nomenclature{dB}{Dezibel}
        \nomenclature{m}{Meter}
        \nomenclature{MHz}{Megahertz}
        \nomenclature{W}{Watt}
        \nomenclature{DECT}{Digital Enhanced Cordless Telecommunications\,--\,Standard für festnetzgebundene Funktelefone.}

        Bei \emph{DECT} (\emph{"`Digital Enhanced Cordless Telecommunications"'}) handelt es sich um einen Standard, 
        der vor allem zur Anbindung von Schnurlostelefonen an eine Basisstation gedacht ist\footnote{Es gibt
        jedoch auch weitere Anwendungen wie z.B. Babyfon.}. 

        In Europa wird ein eigenes Frequenzband im Bereich von 1800 bis 1900~MHz verwendet, in dem 10 
        Kanäle zur Verfügung stehen. Pro Kanal können maximal 32~kbit Nutzdaten pro Sekunde übertragen
        werden. Die maximal zulässige Sendeleistung beträgt 250~mW, womit eine Reichweite von ca. 30-50~m 
        in Gebäuden und ca. 300~m im Freien realisiert werden kann. Jede Basisstation kann
        bis zu 6 Geräte anbinden.

        Beim Einsatz außerhalb Europas muss bedacht werden, dass die Verwendung der Frequenzen von
        1800 bis 1900~MHz hier evtl. nicht zulässig ist. In diesem Fall muss auf das \emph{ISM}-Band 
        ausgewichen werden, welches  mit anderen Anwendungen geteilt werden muss.
        \cite{etsi_dect}

        \emph{DECT} bietet eine optionale Verschlüsselung der Nutzdaten, welche jedoch im Jahr 2009 gebrochen 
        wurde, so dass \emph{DECT} mittlerweile als unsicher gelten muss. \cite{dedected}

        Aufgrund der geringen Nutzdatenmenge sowie der Einschränkung auf 6 Teilnehmer ist
        \emph{DECT} für den Einsatz als Sensornetz-Protokoll nicht geeignet.

    \subsection{GSM/UMTS}
        \nomenclature{km}{Kilometer}
        \nomenclature{WPAN}{Wireless Personal Area Network}
        \nomenclature{WLAN}{Wireless Local Area Network}
        \nomenclature{LAN}{Local Area Network}
        \emph{GSM} sowie der Nachfolgestandard \emph{UMTS} bilden die Grundlage der aktuellen Mobilfunktechnologie.
        Es handelt sich um eine zellenbasierte Technologie, die im Falle von \emph{GSM} Frequenzen im
        900~MHz- und im 1,8~GHz-Band verwendet. Für \emph{UMTS} stehen insgesamt 19 Bänder im Bereich von 777~MHz 
        bis 2,2~GHz zur Verfügung. Die Kommunikation findet zwischen einem Mobiltelefon und einer
        Basisstation statt, wobei die maximale Sendeleistung 2~W (im Falle von GSM) bzw. 250~mW (im Falle
        von UMTS) beträgt. Mit \emph{GSM}-900 können im Freien bei Sichtkontakt Reichweiten bis zu 35~km erreicht
        werden. \cite{Mobilfunk}
        \\
        Die Frequenzen für \emph{GSM} und \emph{UMTS} sind fest dem jeweiligen Netzbetreiber zugeordnet. Der Preis
        für einen Frequenzbereich ist sehr hoch. Bei der Versteigerung der \emph{UMTS}-Frequenzen im  
        Jahr 2000 wurden Preise von bis zu 8 Milliarden Euro pro Lizenz erreicht. \cite{umts_versteigerung} 

    \subsection{WLAN}\label{wlan}
        \nomenclature{IEEE}{Institute of Electrical and Electronics Engineers}
        \nomenclature{Access-Point}{Zentrale Station (Zugangspunkt) eines kabellosen Netzwerks.} 
        \nomenclature{Peer-to-Peer}{Verbindungen zwischen zwei oder mehr Teilnehmern, bei denen alle Teilnehmer
                                    gleichberechtigt sind.}
        \nomenclature{MBit}{Megabit}
        \nomenclature{kBit}{Kilobit}

        \subsubsection{Übersicht}
            \emph{WLAN} oder \emph{Wi-Fi} bezeichnet den heute gängigen Standard eines Funkprotokolls zum Aufbau
            von kabellosen lokalen Netzwerken. Es gibt mehrere Versionen des Standards, die verbreitetsten
            sind \emph{IEEE 802.11a, IEEE 802.11b/g} und \emph{IEEE 802.11n}. \cite{ieee_wlan}

            Es sind zwei Betriebsmodi möglich:

            \begin{itemize}
                \item{Infrastruktur-Modus:} Eine zentrale Station (\emph{"`Access-Point"'}) dient als Basisstation
                                            für alle weitere Stationen. Jede Station, die am Netzwerk
                                            teilnimmt, muss hierzu die Signale des \emph{Access-Points} 
                                            empfangen können.
                \item{Ad-hoc-Modus:} Diese Betriebsmodus kommt ohne zentrale Komponente aus. Es wird eine
                                     \emph{Peer-to-Peer}-Verbindung zwischen allen am Netzwerk teilnehmenden 
                                     Stationen aufgebaut. Dieser Modus funktioniert nur dann gut, wenn sich
                                     alle Stationen gegenseitig empfangen können. Wenn dies nicht der Fall ist,
                                     muss weitere Aufwand betrieben werden, um Kollisionen im Netzwerk zu
                                     vermeiden (vgl. RTS/CTS in Abschnitt~\ref{WlanStoersicherheit}).
                                     
            \end{itemize}

            Der \emph{Infrastruktur-Modus} bietet gegenüber dem \emph{Ad-Hoc-Modus} klare Vorteile: Im Gegensatz
            zum \emph{Ad-hoc-Modus} ist es nicht notwendig, dass alle Stationen sich gegenseitig empfangen
            müssen; es reicht aus, wenn der \emph{Acces-Point} empfangen werden kann. Hierdurch kann der
            Datenverkehr im Netzwerk besser koordiniert werden als im \emph{Ad-Hoc-Modus}. 

            Es werden verschiedene Datenübertragungsraten unterstützt. Standardmäßig wird
            immer die größtmögliche Übertragungsrate gewählt, die störungsfrei verwendet
            werden kann. Je weiter sich die Stationen voneinander entfernen, desto geringer
            wird die Übertragungsrate, bis schließlich die niedrigste mögliche Übertragungsrate von
            1~MBit/sec erreicht ist.

            Es gibt eine ganze Reihe von Unterstandards, die sich durch zulässige Frequenzen, 
            Übertragungsraten und Sendeleistung unterscheiden. Teilweise ist auch Kanalbündelung 
            vorgesehen. Nicht jeder Standard kann in jedem Land eingesetzt werden, und die meisten
            Endgeräte unterstützen nur eine Teilmenge dieser Standards. Hier sollen nur die
            wichtigsten drei Standards erwähnt werden.

        \subsubsection{IEEE 802.11b}
            Bei \emph{IEEE 802.11b} handelt es sich um den ältesten \emph{WLAN}-Standard mit praktischer
            Bedeutung, der bereits 1999 spezifiziert wurde. Dieser Standard wird praktisch von jedem 
            \emph{WLAN}-fähigen 
            Endgerät unterstützt. Die Kommunikation findet im \emph{ISM}-Band im Bereich von 2.4~GHz
            statt. Je nach Land sind 11-14 Kanäle möglich, die sich jedoch teilweise überlappen.
            Dies führt dazu, dass maximal 3 Netzwerke in einem Gebiet ohne Störungen gleichzeitig betrieben werden
            können. Die maximale Sendeleistung beträgt 100~mW. Es sind Übertragungsraten von 
            5,5 bis 11~MBit/sec (brutto) möglich. Die Nettoübertragungsrate beträgt ca. 50\% der
            Bruttorate; die restliche Übertragungsrate wird für die Koordination des Datenverkehrs
            benötigt. Es sind Reichweiten bis 40~m (Innen) bzw. 100~m (Im Freien) möglich\cite{WirelessNetworking}.

        \subsubsection{IEEE-802.11g}
            Der \emph{IEEE-802.11g}-Standard stellt eine Erweiterung des \emph{IEEE-802.11b}-Standards dar.
            Wesentliche Neuerung ist eine Erhöhung der Bruttodatenrate von 11 auf 54~MBit/sec,
            von denen netto ca. 40\% zur Verfügung stehen. Erwähnenswert ist, dass die
            beiden Standards interoperabel sind, d.h. ein \emph{IEEE-802.11b}-Gerät kann einem
            \emph{IEEE 802.11g} Netzwerk beitreten und umgekehrt. Dies ist auch der Grund, weshalb
            dieser Standard momentan am weitesten verbreitet ist.

        \subsubsection{IEEE 802.11a}
            Der \emph{IEEE 802.11a} Standard verwendet Frequenzen im 5-GHz-Bereich. Er ist daher
            inkompatibel zum \emph{IEEE 802.11b/g} Standard. Je nach Frequenzband sind 
            Sendeleistungen zwischen 30~mW und 1000~mW zulässig. Mit dem passenden Frequenzband
            sind daher höhere Reichweiten als mit dem \emph{IEEE-802.11b/g}-Standard möglich.
            Die Bruttodatenrate beträgt bis zu 54~MBit/sec. 
            Ein Vorteil des \emph{IEEE-802.11a}-Standards ist die Kommunikation im 5~GHz Bereich.
            Aktuell ist dieser Bereich noch wenig genutzt, so dass dort
            oft ein Betrieb mit weniger Störungen als im 2,4~GHz-Bereich möglich ist.
            Es ist jedoch zu erwarten, dass sich dies in Zukunft ändern wird.

        \subsubsection{Störsicherheit}\label{WlanStoersicherheit}
            \nomenclature{Algorithmus}{Eindeutige Handlungsvorschrift bzw. Anweisungsfolge zur Lösung
                                       eines Problems.}
            \nomenclature{{Energy Detection}}{Überprüfen, ob ein Frequenzband frei ist, bevor es zur 
                                            Datenübertragung verwendet wird.}
            \nomenclature{Token}{Sendeerlaubnis innerhalb eines Netzwerks, die von Teilnehmer zu Teilnehmer
                                 gereicht wird.}
            \nomenclature{RTS}{Ready to Send}
            \nomenclature{CTS}{Clear to Send}

            \emph{IEEE 802.11} verwendet den \emph{CSMA/CA}\footnote{Carrier Sense Multiple Access with 
            Collision Avoidance. dt.: Gemeinsamer Medienzugriff mit Kollisionsvermeidung.}-\emph{Algorithmus}
            zur Kontrolle des Medienzugriffs. Möchte eine Station senden, so muss diese zunächst
            für einige Zeit lauschen, ob der zu verwendende Kanal auch wirklich frei ist
            (\emph{Energy-Detection}).
            Ist der Kanal belegt, so wartet sie eine zufällige Zeit, bis sie erneut versucht,
            auf den Kanal zuzugreifen. Wichtig hierbei ist, dass es bei Funkprotokollen nicht
            möglich ist, eine Kollision zu erkennen\footnote{Dies liegt an der Tatsache, dass 
                für Senden und Empfangen der selbe Transceiver verwendet wird. 
            Daher kann ein Knoten entweder nur Senden oder nur Empfangen. Für das Feststellen einer Kollision müsste er
            jedoch beide Operationen gleichzeitig durchführen können.}.um eine bestehende Übertragung abzubrechen,
            wie es z.B. bei \textsl{Ethernet} der Fall ist. Zur Vermeidung von Kollisionen
            kann bei \emph{IEEE 802.11} daher zusätzlich zu \emph{CSMA/CA} eine koordinierte Sendefreigabe eingesetzt
            werden. Hier kommt \emph{RTS/CTS} zum Einsatz: Möchte eine Station ein großes Datenpaket
            senden, so sendet diese zuerst ein \emph{RTS}-Paket\footnote{Ready to send} an den Empfänger, 
            welcher dies mit einem \emph{CTS}-Paket\footnote{Clear to send} quittiert. Erst wenn das
            \emph{CTS}-Paket empfangen wurde, wird mit der Übertragung des eigentlichen Datenpakets
            begonnen. Für alle andere Stationen im Netzwerk ist nun klar, dass sie bis zur
            abgeschlossenen Übertragung dieses Paketes nicht auf das Netzwerk zugreifen
            dürfen.\\
            \\
            %Quelle: IEEE Standard
            \nomenclature{WEP}{Wired Equivalent Privacy\,--\,Nicht mehr zeitgemäßes Verschlüsselungsverfahren für
                               \emph{WLAN}-Netzwerke.}
            \nomenclature{WPA}{Wi-Fi Protected Access\,--\,Neuer Verschlüsselungsstandard 
                               für \emph{WLAN}-Netzwerke.}
            \nomenclature{Bluetooth}{Kabelloser Übertragungsstandard für \emph{WPANs}.}
            Bei dem Einsatz der in \emph{IEEE 802.11i} definierten Verschlüsselungsverfahren
            (\emph{WEP}\footnote{Die Sicherheit von \emph{WEP} ist bereits seit einigen Jahren
             kompromittiert. Es sollte nicht mehr verwendet werden.}, \emph{WPA} oder \emph{WPA2}) werden 
            lediglich die Nutzdaten des Paketes verschlüsselt. Die \emph{RTS/CTS}-Pakete können
            weiterhin erkannt werden, so dass die Kollisionsvermeidung auch dann
            funktioniert, wenn die Pakete nicht entschlüsselt werden können (Diese 
            Situation ist z.B. in Mietshäusern oft anzutreffen, wo mehrere 
            unterschiedliche \emph{WLAN}s auf dem selben Kanal senden). Jedoch geht dies
            mit einer reduzierten Übertragungsrate für die einzelnen Netzwerke
            einher.\\
            \\
            Zusätzlich wird das in Abschnitt~\ref{DSSS} beschriebene \emph{DSSS}-Verfahren
            eingesetzt, um schmallbandige Störungen auszufiltern. \\
            \\
            Ein häufiges Problem ist die Störung durch \emph{Bluetooth}, da 
            \emph{Bluetooth} und \emph{WLAN}-Geräte oft aufeinandertreffen (z.B. weil an einem
            Notebook \emph{Bluetooth}-Maus und -Tastatur verwendet werden oder weil 
            ein \emph{PDA} z.B. Schnittstellen für beide Protokolle besitzt).
            Wie in Abschnitt \ref{Bluetooth} genauer erläutert, besitzt \emph{Bluetooth}
            79 Kanäle, welche bis zu 1600 mal pro Sekunde gewechselt werden.
            Problematisch ist nun, dass 22 dieser Kanäle in das 
            \emph{IEEE 802.11b/g-Frequenzspektru}m fallen. Durch den häufigen
            Kanalwechsel, die geringeren Übertragungsraten sowie die 
            Möglichkeit, den Wechsel auf belegte Kanäle zu vermeiden, ist diese
            Störung für \emph{Bluetooth} deutlich unproblematischer als für \emph{WLAN}.
            Je nach Implementierung kann dies zu einer deutlichen Reduktion
            der Übertragungsrate des \emph{WLANs} führen; außerdem kann die Wartezeit
            für das erfolgreiche Senden von Paketen deutlich ansteigen.
            Dies hat die \emph{IEEE} dazu veranlasst, eine eigene Arbeitsgruppe
            zu gründen, die sich mit dem Problem der gegenseitigen Störung
            von \emph{WLAN} und \emph{Bluetooth} beschäftigt. Die Ergebnisse dieser
            Arbeitsgruppe spiegeln sich im Standard \emph{IEEE 802.15.2} wider.

        \subsubsection{Leistungsaufnahme}
            Der Energiebedarf für \emph{WLAN} ist relativ hoch. Beispielsweise benötigt der
            vom Hersteller \emph{Broadcom} als besonders energiesparend bezeichnete Chip
            \emph{BCM4326} bis zu 100~mA zum Empfangen und zwischen 141 und 190~mA zum Senden.
            \cite{BCM4326_Datasheet}. 

    \subsection{WPAN: Wireless Personal Area Networks}
        \subsubsection{Übersicht}
            \nomenclature{PC}{Personal Computer}
            Als \emph{WPANs} ("`Wireless Personal Area Networks"') werden kabellose Kleinnetzwerke bezeichnet, die dazu 
            dienen, wenige Geräte über kurze Entfernungen (mehrere Meter) miteinander zu verbinden. Sie dienen als Ersatz 
            von Kabelverbindungen zur Anbindung von Peripherie an Computergeräte (z.B. zur Verbindung von
            Headsets mit Mobiltelefonen oder von Tastatur und Maus mit einem \emph{PC}).
            

        \subsubsection{IEEE 802.15}
            \nomenclature{ZigBee}{Kabelloser Übertragungsstandard für Sensornetzwerke.}
            Der \emph{IEEE 802.15}-Standard behandelt \textsl{Wireless Personal Area Networks}. Er ist in mehrere 
            Unterstandards aufgeteilt:

             \begin{itemize}
                \item{IEEE 802.15.1:} \emph{Bluetooth} 1.2
                \item{IEEE 802.15.2:} Interoperabilität zwischen \emph{IEEE 802.15} (\emph{WPAN}) 
                                      und \emph{IEEE 802.11} (\emph{WLAN})
                \item{IEEE 802.15.3:} \emph{WPANs} mit hohen Datenübertragungsraten (20~MBit/sec und höher)
                \item{IEEE 802.15.4:} \emph{WPANs} mit niedriger Datenübertragungsraten
            \end{itemize}

            Für diese Arbeit sind vor allem der \emph{Bluetooth-} und der \emph{ZigBee}-Standard interessant. 

        \subsubsection{IEEE 802.15.1: Bluetooth}\label{Bluetooth}
            \paragraph{Überblick}
                \nomenclature{RS-232}{Übertragungsstandard für serielle Schnittstellen.}
                \nomenclature{SIG}{Special Interest Group}
                \nomenclature{AFH}{Adaptive Frequency Hopping}
                \nomenclature{EDR}{Enhanced Data Rate}
                \nomenclature{SSP}{Secure Simple Pairing}
                \emph{Bluetooth} wurde ursprünglich durch den Mobilfunkhersteller \emph{Ericcson} als Ersatz für
                \emph{RS-232}-Verbindungen entwickelt. Die Entwicklung des \emph{Bluetooth}-Standards erfolgt
                heute unter der Regie der \emph{Bluetooth Special Interest Group} (\emph{Bluetooth SIG}).
                Version 1.1 des \emph{Bluetooth}-Standard wurde 
                von der \emph{IEEE} als \emph{IEEE 802.15.1-2002} übernommen. Nach Veröffentlichen einer
                weiteren Version \emph{IEEE 802.15.1-2005}, die dem \emph{Bluetooth-1.2}-Standard entspricht,
                wurde von der \emph{IEEE} jedoch beschlossen, nicht weiter mit der \emph{Bluetooth SIG}
                zu kooperiern, so dass es keine weiteren Versionen des \emph{IEEE-802.15.1}-Standards 
                geben wird. Aktuell ist Version 4.0 des \emph{Bluetooth}-Standards, wobei jedoch die
                meisten Geräte nur ältere Standards (typischerweise 2.0 oder 2.1) unterstützen. \cite{Bluetooth} 
                \\
                    \\
                Die wichtigsten Meilensteine der \emph{Bluetooth}-Entwicklung können folgendermaßen
                zusammengefasst werden:

                \begin{itemize}
                    \item{\emph{Bluetooth 1.1}:} Erste Version von praktischer Relevanz. Entspricht 
                                          \emph{IEEE 802.15.1-2002}.
                    \item{\emph{Bluetooth 1.2}:} Entspricht \emph{IEEE 802.15.2-2005}. Bringt einige Verbesserungen
                                          gegenüber der Version 1.1 wie z.B. schnelleres Finden
                                          von Endgeräten (\emph{Discovery}), höhere Störsicherheit durch
                                          die Verwendung von \emph{AFH}\footnote{Adaptive frequency hopping spread spectrum},
                                          Übertragungsraten bis 721~kbit/sec.
                    \item{\emph{Bluetooth 2.0}:} Einführung des \emph{EDR}\footnote{Enhanced Data Rate}-Modus mit bis zu
                                          3,0~MBit/sec (2,1~MBit/sec netto).
                    \item{\emph{Bluetooth 2.1}:} Vereinfachung des Pairings (vgl. Abschnitt~\ref{BluetoothPairing}) durch 
                                          Einführung von SSP\footnote{Secure Simple Pairing}, Verbesserung
                                          der Sicherheit durch explizite Aushandlung der Verschlüsselung.
                    \item{\emph{Bluetooth 3.0}:} Einführung eines Hochgeschwindigkeits-Datenkanals auf Basis von
                                          \emph{IEEE 802.11} (vgl. \ref{wlan}) mit bis zu 24~MBit/sec., verbessertes
                                          Powermanagement, Einführung von verbindungslosen Datentelegrammen
                                          (\emph{Unicasts}).
                    \item{\emph{Bluetooth 4.0}:} Einführung des \textsl{Blueetooth Low Energy} Standards (vgl. \ref{wibree}).
                \end{itemize}

            \paragraph{Pairing}\label{BluetoothPairing}
                Bei der Entwicklung von \emph{Bluetooth} wurde ein besonderes Augenmerk auf Datensicherheit gelegt. 
                Dies liegt daran, dass über \emph{Bluetooth} in vielen Fällen auf sensible Daten (z.B. der Inhalt
                von Mobiltelefonen, Telefongespräche die über Headsets geführt werden etc.) zugegriffen
                werden kann. \emph{Bluetooth} verwendet hierfür das Konzept des Pairings, also der Paarung. Bevor zwei 
                \emph{Bluetooth}-Geräte miteinander kommunizieren können, müssen sie gepaart werden. Um dies 
                durchzuführen, muss zunächst die Identität der zu paarenden Geräte bestätigt werden.
                Hierzu gibt es zwei verschiedene Verfahren:

                \nomenclature{PIN}{Persönliche Identifikationsnummer}
                \nomenclature{Byte}{8~Bit}
                \nomenclature{Bit}{Kleinste Informationseinheit eines Computers, kann die Zustände 1 und 0 annehmen.}
                \nomenclature{Man-in-the-middle}{Angriff, bei dem Datenpakete zwischen zwei Kommunikationspartnern
                                                 durch einen Angreifer abgefangen werden und der Inhalt der Pakete
                                                 manipuliert wird.}
                \begin{itemize}
                    \item{\emph{Legacy}:} Bis \emph{Bluetooth 2.0} muss an beiden Geräten eine identische \emph{PIN}
                                   eingegeben werden. Die \emph{PIN} ist beliebig und kann bis zu
                                   16~Byte lang sein.
                    \item{\emph{Secure Simple Pairing}:} \emph{Bluetooth 2.1} definiert neben der \emph{PIN}-Eingabe
                                                  weitere Verfahren zum Paaren von Geräten.
                                                  z.B. kann bei dem \emph{Just-Works}-Verfahren
                                                  die \emph{PIN} komplett ausgelassen werden\footnote{Die
                                                  Verbindung erfolgt trotzdem verschlüsselt,
                                                  allerdings sind nun \emph{Man-in-the-middle}-Angriffe 
                                                  möglich.} oder es wird an beiden Geräten eine
                                                  Nummer angezeigt, deren Gleichheit einfach
                                                  nur noch bestätigt werden muss.
                \end{itemize}

                Ist diese Überprüfung erfolgreich, generieren beide Geräte einen kryptographischen
                Schlüssel und die weitere Kommunikation erfolgt verschlüsselt. Sobald zwei
                Geräte gepaart wurden, können sie miteinander kommunizieren, ohne eine erneute
                Paarung durchführen zu müssen. \cite{Bluetooth}

            \paragraph{Reichweite}
                Bluetooth definiert drei verschiedene Klassen von Geräten mit jeweils
                unterschiedlicher Reichweite:

                \begin{itemize}
                    \item{Klasse 1:} maximale Sendeleistung: 100~mW, Reichweite ca. 100~m
                    \item{Klasse 2:} maximale Sendeleistung: 2,5~mW, Reichweite ca. 10~m
                    \item{Klasse 3:} maximale Sendeleistung:   1~mW, Reichweite ca. 1~m
                \end{itemize}

                Diese Einteilung dient unter anderem der Datensicherheit. Da z.B. 
                ein Headset in der Regel nur die Distanz zwischen Kopf und Tasche
                des Anwenders überbrücken muss, reicht hier die Verwendung eines 
                Klasse-2-Gerätes. Durch die Einschränkung der Sendeleistung wird nicht nur die
                Akkulaufzeit der Geräte erhöht, sondern auch die Wahrscheinlichkeit,
                dass ein Angreifer die gesendeten Daten empfangen kann, verringert.\\
                \\
                % Quelle: Def con
                Es bleibt allerdings festzustellen, dass mit Hilfe von geeigneten
                Antennen die Reichweite von \emph{Bluetooth} signifikant gesteigert werden
                kann. So lassen sich mit Hilfe der \emph{BlueSniper}-Richtantenne selbst mit
                Klasse-2-Geräten Distanzen von über 800~m überbrücken. \cite{BlueSniper}

            \paragraph{Übertragungsrate}
                Die Übertragungsrate von \emph{Bluetooth} hängt natürlich von Faktoren wie
                der Verbindungsqualität und der Entfernung ab. Der Standard definiert
                folgende maximale Datenübertragungsraten:

                \begin{itemize}
                    \item{\emph{Bluetooth 1.1}:} 721~kbit/sec
                    \item{\emph{Bluetooth 2.0}:} 3.0~MBit/sec
                    \item{\emph{Bluetooth 3.0}:} 24~Mbit/sec (über einen \emph{IEEE-802.11}-Kanal)
                \end{itemize}

            \paragraph{Störsicherheit}
                \emph{Bluetooth} verwendet einen Frequenzbereich von 2,402 - 2,480~GHz. Innerhalb
                dieses Bereiches werden 79 verschiedene Kanäle definiert. Zur Minimierung
                von Störungen wird sogenannts \textsl{Channel-Hopping} verwendet. Hierbei
                wird der verwendete Kanal bis zu 1600mal pro Sekunde gewechselt. Mit dem
                \emph{Bluetooth-1.2}-Standard wurde das verbesserte  
                \emph{AFH}\footnote{Adaptive frequency-hopping spread spectrum}-Verfahren 
                eingeführt, welches gestörte Kanäle erkennt und deren Verwendung
                vermeidet.\\
                \\
                Insbesondere \emph{WLAN}-Netzwerke und \emph{Bluetooth}-Netzwerke stören sich 
                gegenseitig. Wie in Abschnitt \ref{WlanStoersicherheit} bereits
                erläutert, wird \emph{WLAN} deutlich stärker durch \emph{Bluetooth} gestört,
                als dies umgekehrt der Fall ist. Tritt eine Störung auf einem
                Kanal auf, versucht das \emph{AFH}-Verfahren die Verwendung dieses
                Kanals zu vermeiden. Hierdurch sinkt zwar die erreichbare
                Datenübertragungsrate, eine Kommunikation kann allerdings weiter 
                stattfinden.
                 \\
                 Es ist festzustellen, dass \emph{Bluetooth}\,--\,insbesondere im Vergleich
                 zu \emph{WLAN}\,--\,recht robust gegenüber Störungen ist.

            \paragraph{Anzahl Teilnehmer}
                Sobald zwei oder mehr Geräte miteinader verbunden sind, formen diese ein
                sogenanntes \emph{Piconet}. In einem \emph{Piconet} können sich bis
                zu 255 Geräte befinden, wobei ein Gerät eine der folgenden beiden Rollen
                hat:

                \begin{itemize}
                    \item{Master:} Der Master koordiniert die Kommunikation im Netzwerk.
                                   Hierzu gibt er jeweils Zeitslots vor, in denen
                                   Daten gesendet werden dürfen. Pro \emph{Piconet} kann
                                   es nur einen Master geben.
                    \item{Slaves:} Slaves bekommen vom Master die Erlaubnis, Daten zu senden.
                                   Es können immer nur 7 Slaves gleichzeitig aktiv sein.
                                   Aktive Slaves müssen permanent empfangsbereit sein,
                                   um die Anforderungen des Masters zu empfangen. 
                \end{itemize}

                Da nur 7 Slaves gleichzeitig aktiv sein dürfen, befinden sich 
                alle übrigen Slaves im sogenannten "`Parkzustand"'. Erst wenn
                ein Slave vom Master explizit dazu aufgefordert wird, darf er in den
                aktiven Zustand wechseln. \\
                \\
                Um die Anzahl der aktiven Geräte in einem Netzwerk zu erhöhen,
                gibt es die Möglichkeit, ein sogenanntes \emph{Scatternet} zu bilden.
                Hierbei handelt es sich um die Verbindung von mehreren \emph{Piconets}
                mit jeweils maximal 8 Geräten zu einem größeren Verbund. Hierbei
                leitet jeweils ein Gerät, das mit jeweils 2 der \emph{Piconetze}
                verbunden ist, Pakete vom einen Netz in das andere Netz über.
                Im Vergeleich zu \emph{Piconetzen} kann hiermit eine deutlich höhere
                Anzahl von Geräten unterstützt werden. Durch die Verkettung 
                der Netze kann es jedoch vorkommen, dass einzelne Pakete
                eine relativ hohe Anzahl von \emph{Piconetzen} durchqueren müssen,
                um ihr Ziel zu erreichen.
            \paragraph{Leistungsaufnahme}
                \nomenclature{Power-Management}{Energieverwaltung\,--\,Maßnahmen um Energie zu sparen.}
                Die genaue Leistungsaufnahme eines \emph{Bluetooth}-Gerätes hängt von 
                einigen Faktoren ab. Den größten Einfluß hat die Rolle des 
                Gerätes: Die Leistungsaufnahme eines \emph{Slaves} ist
                deutlich höher als die des \emph{Masters}. Dies liegt
                daran, dass ein \emph{Slave} immer empfangsbereit sein
                muss, ein Master hingegen nur dann, wenn er Daten von
                einem \emph{Slave} angefordert hat. Die Leistungsaufnahme
                eines \emph{Slaves} der Klasse 2 beträgt laut \cite{BluetoothPower}
                durchschnittlich 56,63~mW, was bei 3,3~V ca 16,6~mA entspricht.
                Für Klasse-1-Geräte ist die Leistungsaufnahme noch höher, 
                da alleine die Sendeleistung schon 100~mW beträgt.
                \emph{Power-Management} in \emph{Bluetooth}-Netzen ist schwierig. Zwar sind
                einige \emph{Standby-Modi} vorgesehen (\emph{Hold}, \emph{Sniff} und \emph{Park}), allerdings
                muss dem Master erst mitgeteilt werden, dass die entsprechende
                Station für ein bestimmtes Zeitintervall nicht erreichbar ist.
                Befindet sich ein Gerät im Standby-Modus, kann es bis zu 3 Sekunden
                dauern, bis es wieder sendebereit ist. Da diese Einschränkungen
                den Betrieb von Geräten mit geringer Energieversorgung
                praktisch unmöglich machen, wurde von der \emph{Bluetooth-SIG}
                ein eigener Standard für diese Geräteklasse mit dem Namen
                \emph{"`Bluetooth Low Energy"'} verabschiedet (siehe
                Abschnitt~\ref{wibree}).

        \subsubsection{IEEE 802.15.4: ZigBee}

            \paragraph{Übersicht}
                \nomenclature{MAC}{Media Access Control}
                \nomenclature{Transceiver}{Sende- und Empfangseinheit.}
                \nomenclature{Stack}{Stapel, entweder als Datenstruktur in einer Programmiersprache,
                                     Stapelspeicher eines Prozessors oder im Sinne eines 
                                     Protokollstapels.}
                \Abbildungps{!htb}{0.5}{diagramme/Zigbee_stack.pdf}{zigbee_stack}{\emph{ZigBee}-Stack (Quelle: Wikipedia)}
                Bei \emph{IEEE 802.15.4} handelt es sich um einen Standard für 
                zuverlässige, drahtlose Kommunikation mit niedriger Übertragungsrate
                bei hoher Reichweite, niedriger Leistungsaufnahme und geringem Stückpreis.\\
                \\
                Eine typische Anwendung hierfür sind drahtlose Sensoren: Zum einen
                ist eine möglichst hohe Laufzeit gewünscht, da es oft nur schwer
                möglich ist, Batterien für aufgestellte Sensoren auszutauschen.
                Wenn die Sensoren dazu noch in einer hohen Stückzahl verteilt werden
                sollen, sind möglichst geringe Hardwarekosten notwendig.
                \\
                Zu beachten ist, dass \emph{ZigBee} nicht das selbe ist wie \emph{IEEE 802.15.4.}\\
                \emph{IEEE 802.15.4} definiert lediglich die unteren beiden Schichten des
                OSI-Modells, also die Sicherungs- (\emph{MAC}) und die physische Schicht 
                (\emph{PHY}).Bei \emph{ZigBee} handelt es sich hingegen um einen kompletten Protokollstapel,
                der die beiden Schichten von \emph{IEEE 802.15.4} um 3 weiter Schichten,
                namentlich Vermittlungs-, Verschlüsslungs und Anwendungsschicht 
                ergänzt. \cite{zigbee_specification}   \\
                \\
                Es ist möglich, einen \emph{IEEE 802.15.4}-\emph{Transceiver} ohne den Einsatz
                von \emph{ZigBee} zu betreiben. Die Verwendung von \emph{ZigBee} bietet jedoch
                den Vorteil, dass alle netzwerkrelevanten Aufgaben wie Routing,
                Übertragungssicherung und Adressierung von Anwendungen bereits
                durch den \emph{ZigBee}-\emph{Stack} erfolgen und daher nicht vom Entwickler
                implementiert werden müssen. Die Verwendung von durch die
                \emph{ZigBee-Alliance} zertifizierten Modulen bietet zudem den
                Vorteil der Interoperabilität mit Modulen von anderen Herstellen,
                sofern diese \emph{ZigBee}-zertifiziert sind.

            \paragraph{Netzstruktur}
                \nomenclature{FFD}{Full Function Device}
                \nomenclature{RFD}{Reduced Function Devices}
                Bei \emph{ZigBee} gibt es zwei Klassen von Geräten:

                \begin{itemize}
                    \item{\emph{FFD:}} Full Function Devices: Diese Geräte implementieren
                                den vollen \emph{ZigBee-Stack}. Hierzu ist es notwendig,
                                dass diese immer erreichbar sind; die Verwendung
                                des Energiesparmodus ist nicht möglich.
                    \item{\emph{RFD}:} Reduced Function Devices: Diese Geräte implementieren
                                nur einen Teil des \emph{ZigBee-Stacks}. Sie müssen nicht
                                immer ereichbar sein und können den Energiesparmodus
                                benutzen. 
                \end{itemize}

                Es ist lediglich die Kommunikation zwischen \emph{RFD} und \emph{FFD} sowie zwischen
                zwei \emph{FFDs} möglich. Zwei \emph{RFDs} sind nicht in der Lage, direkt miteinander
                zu kommunizieren, sondern müssen den Umweg über ein \emph{FFD} nehmen.\\
                \\
                Neben den Geräteklassen unterscheiden sich die einzelnen Stationen durch
                die Rollen, die sie im Netzwerk einnehmen:
                \nomenclature{ZC}{\emph{ZigBee Coordinator}}
                \nomenclature{ZR}{\emph{ZigBee Router}}
                \nomenclature{ZED}{\emph{ZigBee End Device}}

                \begin{itemize}
                    \item{Koordinator (\emph{ZC}):} Der Koordinator ist die zentrale Station im Netzwerk.
                                        Er ist der Knoten, der das Netzwerk errichtet hat
                                        und ist für die Kontrolle des Netzwerks zuständig.
                                        In einem Netzwerk kann es immer nur einen Koordinator
                                        geben. Der Koordinator beinhaltet immer auch
                                        die Funktionalität eines Routers. Die Rolle des Koordinators kann nur von einem
                                        \emph{FFD} übernommen werden.
                    \item{Router (\emph{ZR}):} Router sind in einem Netzwerk für die Weiterleitung von
                                   Paketen zuständig. Es kann beliebig viele Router in einem
                                   Netzwerk geben. Die Rolle eines Routers kann nur von einem
                                   \emph{FFD} übernommen werden.
                    \item{Endknoten (\emph{ZED}):} Alle Geräte, die nicht Koordinator oder Router sind,
                                            sind automatisch Endknoten. Diese leiten keine Pakete
                                            weiter und sind immer an einem Router angemeldet.
                                            Es handelt sich hierbei immer um \emph{RFDs}.
                \end{itemize}

                Die Topologie des Netzwerks wird von den Knoten automatisch bestimmt. Können
                sich mehrere Router empfangen, so bilden diese automatisch ein vollvermaschtes
                Netz. Bei der Zustellung von Paketen wird standardmäßig immer der Pfad mit
                der besten Leitungsqualität gewählt.\\
                \\
                \nomenclature{Router}{Netzwerkgerät, das Pakete zwischen Teilnehmern weiterleitet.}
                Durch die geschickte Platzierung von Routern kann ein \emph{ZigBee}-Netzwerk
                nahezu beliebig ausgeweitet werden, wobei durch die automatische Organisation
                des Netzwerks ein hohes Maß an Ausfallsicherheit erreicht werden kann (eine entsprechende
                Anzahl an \emph{Routern} vorrausgesetzt). Problematisch ist jedoch der Ausfall des
                Koordinators. Prinzipiell kann jeder Router die Aufgabe des Koordinators übernehmen,
                jedoch geschieht dies nicht automatisch und muss in der Anwendungslogik erfolgen.

            \paragraph{Störsicherheit}
                \nomenclature{CSMA/CA}{Carrier Sense Multiple Access/Collision Avoidance}
                \nomenclature{Unicast}{Datenpaket mit einem bestimmten Empfänger.}
                \nomenclature{Multicast}{Datenpaket mit mehreren bestimmten Empfängern.}
                \nomenclature{Broadcast}{Datenpaket, das an alle Empfänger im Netzwerk gesendet wird.}
                \nomenclature{CRC}{Cyclic Redundancy Check}
                \nomenclature{Beacon}{dt. Leuchtfeuer\,--\,periodisches Bekanntmachen des Vorhandenseins des Netzwerks.}

                \begin{table}[!t]
                    \begin{tabular}[!t]{lll}
                        \textbf{ZigBee-Kanal} & \textbf{WLAN-Kanal} & \textbf{Bluetooth-Frequenz} \\
                        11           & 1          & -\\
                        12           & 1          & -\\
                        13           & 1          & -\\
                        14           & 1          & 2,420 GHz\\
                        15           & -          & -\\
                        16           & 7          & -\\
                        17           & 7          & -\\
                        18           & 7          & 2,439 GHz\\
                        19           & 7          & -\\
                        20           & 7          & -\\
                        21           & -          & -\\
                        22           & 13         & -\\
                        23           & 13         & -\\
                        24           & 13         & 2,471 GHz\\
                        25           & 13         & -\\
                        26           & 13         & -\\
                    \end{tabular}
                    \caption{Überschneidungen zwischen ZigBee, WLAN und Bluetooth-Kanälen}
                    \label{zigbee_wlan_kanaele}
                \end{table}

                ZigBee verwendet zur Funkübertragung von Paketen den \emph{IEEE-802.15.4}-Standard.
                Dieser weist große Ähnlichkeiten mit dem \emph{IEEE-802.11b}-Standard (WLAN, vgl. 
                Abschnitt~\ref{WlanStoersicherheit}) auf: Es werden mehrere Kanäle im
                2.4-GHz-Band spezifiziert. In Nordamerika stehen 10 weitere Kanäle im 900-MHz-Band
                zur Verfügung, die allerdings eine reduzierte Datenrate von 40~kBit/sec zulassen. 
                Darüber hinaus gibt es noch einen Kanal im 868-MHz-Band, der allerdings nur in Europa
                verwendet werden darf, und bei dem auch nur 20~kBit/sec verwendet werden können. Zur Übertragung wird auch bei 
                \emph{IEEE 802.15.4} Frequenzspreizung nach dem \emph{DSSS}-Verfahren betrieben. Zum Medienzugriff
                wird \emph{CSMA/CA} verwendet.\\
                \\
                Zusätzlich spezifiziert \emph{ZigBee} in der Vermittlungsschicht (\emph{NWK}) eine Reihe von Fehlerbehandlungsroutinen:
                So wird jedes empfangene Paket\,--\,mit der Ausnahme von Broadcasts\footnote{Rundrufe, also
                Pakete, die an alle Stationen gleichzeitig verschickt werden.}\,--\,mit einer Antwort
                an den Sender quittiert. Erhält der Sender innerhalb einer bestimmten Zeitspanne
                keine Antwort, so sendet er das verlorene Paket erneut. Darüber hinaus gibt es in jedem
                Datenpaket eine \emph{CRC}-Prüfsumme, mit deren Hilfe Übertragungsfehler erkannt werden können.
                Auch in diesem Fall wird das Paket erneut übertragen. Hierbei sollte jedoch bemerkt werden,
                dass ein \emph{CRC}-Verfahren keinen Schutz gegen absichtliche Manipulation bietet. Dies kann
                mit Hilfe der in Abschnitt~\ref{ZigBee Sicherheit} beschriebenen kryptographischen Verfahren
                verhindert werden.\\
                \\
                Ein \emph{ZigBee}-Netzwerk kann optional ein sogenanntes \emph{Beacon} (dt. Leuchtfeuer) verwenden. Hierbei
                handelt es sich um ein Paket, das periodisch vom Koordinator ausgesendet wird. Mit Hilfe
                dieses Pakets wird die Sendezeit in feste Zeitschlitze eingeteilt. Hiermit ist es möglich, 
                einzelnen Stationen einen garantierten Zeitschlitz (\emph{GTS}) zuzuweisen, in dem niemand anderes
                senden darf. Dies ist insbesondere für Echtzeitanwendungen interessant. Da zum Zeitpunkt des
                Versendens des \emph{Beacons} jedoch alle Stationen empfangsbereit sein müssen, ergeben sich 
                Einschränkungen für die Batterielaufzeit. Die Verwendung von \emph{Beacons} schützt nicht gegen
                Störungen durch Nicht-\emph{ZigBee}-Geräte wie \emph{WLANs} oder \emph{Bluetooth}.\\
                \\
                Da eine Nutzung der Kanäle außerhalb des 2,4-GHz-Bandes nicht in jedem Land gestattet ist,
                sollen im folgenden nur die 15 Kanäle im 2,4-GHz-Band betrachtet werden:\\
                \\
                Von den 15 zur Verfügung stehenden \emph{ZigBee}-Kanälen überschneiden sich 11 Kanäle mit den 3 überschneidungsfreien 
                \emph{IEEE-802.11b}-Kanälen (Kanal 1, Kanal 6 und Kanal 11) in Nordamerika. In Europa überschneiden sich sogar 13 \emph{ZigBee}-Kanäle
                mit den \emph{IEEE-802.11b}-Kanälen Kanal 1, Kanal 7 und Kanal 13 in Europa. Es ist zu 
                erwarten, dass die Störungen auf den Kanälen im Randbereich der \emph{IEEE-802.11b}-Kanäle am geringsten --
                wenn auch nicht komplett ausgeschlossen\,--\,sind.
                Außerdem gibt es auf 4 Kanälen Überschneidungen mit \emph{Bluetooth}. Der genaue Zusammenhang ist
                in Tabelle~\ref{zigbee_wlan_kanaele} dargestellt.




                \nomenclature{EEPROM}{Electrically Erasable Programmable Read-Only Memory}
                \nomenclature{Flashspeicher}{Günstigere Variante eines \emph{EEPROMS}, das zur Massendatenspeicherung
                                             verwendet werden kann.}
                Ein \emph{ZigBee}-Netzwerk ist in der Lage, dynamisch den verwendeten Kanal zu wechseln, sobald die
                Störungen auf einem Kanal zu groß werden. Hierzu wird im \emph{EEPROM} des \emph{ZigBee}-Gerätes kein fester
                Kanal, sondern eine Liste aller erlaubten Kanäle eingestellt. Dies bedeutet, dass bei der
                richtigen Konfiguration des \emph{ZigBee}-Netzwerks ein einzelnes \emph{WLAN} durch einen einfachen 
                Kanalwechsel umgangen werden kann. Problematisch wird es jedoch, wenn mehrere \emph{WLANs} auf mehreren
                verschiedenen Kanälen gleichzeitig auftreten. Hierdurch kann es zu einer signifikaten Abnahme der im 
                \emph{ZigBee}-Netzwerk möglichen Übertragungsrate kommen. Eine mögliche Lösung wäre in diesem Falle, die 
                \emph{WLANs} auf die \emph{WLAN}-Kanäle 1, 7 und 13 einzuschränken, so dass für das 
                \emph{ZigBee}-Netzwerk die \emph{ZigBee}-Kanäle 15 und 21 zur ungestörten Verwendung zur Verfügung 
                stehen. Alternativ können an Stelle der \emph{WLAN}-Kanäle 7 und 13 die \emph{WLAN}-Kanäle 6 und 11 
                verwendet werden, so dass für das \emph{ZigBee}-Netzwerk die Kanäle 25 und 26 frei werden.\\
                Wenn für das \emph{ZigBee}-Netzwerk sowieso nur ein Teil der zur Verfügung stehenden Übertragungsrate benutzt
                wird und auch die \emph{WLANs} nur teilweise ausgelastet sind, ist zu erwarten, dass durch die Verwendung
                des \emph{CSMA/CA}-Verfahrens genügend freie Zeitschlitze gefunden werden können, um selbst bei einer
                hohen \emph{WLAN}-Dichte noch erfolgreich senden zu können.\\
                \\
                Die Störungen durch \emph{Bluetooth} sind als weniger problematisch zu bewerten. Durch das von 
                \emph{Bluetooth} verwendeten \emph{FHSS}-Verfahren besteht selbst im ungünstigsten Fall 
                (Verwendung von sich überschneidenden Kanälen im \emph{ZigBee}-Netz, volle Ausschöpfung der 
                 Übertragungsrate im \emph{ZigBee}-Netz) nur eine maximale Kollisionswahrscheinlichkeit von ca. 
                4\% (3 von 79 Frequenzsprüngen\,--\,unter der Annahme, dass auch
                das \emph{ZigBee}-Netzwerk in dieser Zeit dreimal den Kanal wechselt). Dies kann von der \emph{ZigBee}-Fehlerbehandlung
                durch eine erneute Übertragung des kollidierten Paketes einfach behandelt werden. Verwendet
                das \emph{Bluetooth}-Netzwerk darüber hinaus das \emph{AFH}-Verfahren, ist es in der Lage die Störung zu
                erkennen und den betroffenen Kanal im weiteren Verlauf zu meiden.\\
                \\
                Eine weitere Quelle von Störungen sind Mikrowellenöfen. Diese verwenden typischerweise
                Frequenzen um die 2540~MHz und können Störungen mit einer Bandbreite von bis zu 80~MHz und einer Signalstärke
                von bis zu 30~dBm verursachen. Hierdurch ergeben sich mögliche Störungen auf den
                oberen \emph{ZigBee}-Kanälen. Da gewöhnliche Mikrowellenöfen für den Haushaltsgebrauch einen 
                Auslastungsgrad (\emph{Duty-Cycle}) von bis zu 50\% haben, ergäbe sich schlimmstenfalls eine Halbierung der
                zur Verfügung stehenden Übertragungsrate.\cite{ZigBeeFarahani}\\
                \\
                Die letzte zu erwartende Quelle von Störungen geht von \emph{DECT}-Telefonen aus. Da diese in Europa
                jedoch nicht im 2,4-GHz- sondern im 1,8-GHz-Band arbeiten, stellt dies nur außerhalb der EU ein
                Problem dar. Hierbei sind schmalbandige Störungen mit einer Signalstärke von bis zu 30~dBm 
                zu erwarten. Diese können einfach durch den automatischen Kanalwechsel des \emph{ZigBee}-Netzwerks
                umgangen werden.\\

            \paragraph{Verschlüsselung}\label{ZigBee Sicherheit}
                \nomenclature{AES}{Advanced Encryption Standard}
                % http://www.willhackforsushi.com/presentations/toorcon11-wright.pdf 
                \emph{ZigBee} unterstützt 128-Bit-\emph{AES}-Verschlüsselung. Hiermit können gesendete Nachrichten 
                gegen Manipulation sowie unberechtigte Kenntnisnahme geschützt werden. Aufgrund von Entwurfsfehlern 
                im Standard ist dieser Schutz jedoch nur als rudimentär zu bewerten. Beispielsweise ist
                kein Schutz gegen \emph{Replay}-Angriffe vorgesehen, so dass z.B. Befehle abgefangen und beliebig oft
                wieder in das Netzwerk eingeschleust werden können. Es ist daher sinnvoll, auf höherer 
                Pro\-to\-koll\-ebene weitere Schutzmaßnahmen vorzusehen, um sich erfolgreich gegen Angriffe zu
                schützen.

            \paragraph{Leistungsaufnahme}
                Zur Bewertung der Leistungsaufnahme eines \emph{ZigBee}-Netzwerks wird exemplarisch ein 
                \emph{ZigBee}-Modul
                vom Typ \emph{ATZB-24-A2R} der Firma \emph{Atmel} betrachtet. Diese Modul verfügt über einen 
                Energiesparmodus.  In diesem Modus wird lediglich der interne Speicher mit Energie versorgt, alle 
                weitere Hardware wird abgeschaltet. In diesem Modus hat das Gerät (laut Hersteller) einen Strombedarf 
                von weniger als 6~$\mu{}A$. Befindet sich das Gerät nicht im Energiesparmodus und ist empfangsbereit, 
                werden 19~mA benötigt; sendet das Gerät sind 18~mA\footnote{Dass für das Senden weniger
                    Energie benötigt wird als für das Empfangen mag auf den ersten Blick kontraintuitiv 
                    erscheinen, ist aber durch den Filteraufwand beim Empfangen zu erklären.} notwendig.\\
                Durch den Energiesparmodus lassen sich große Einsparungen erreichen. Allerdings kann dieser nur von 
                \emph{RFDs} verwendet werden, da \emph{FFDs} immer empfangsbereit sein müssen. Zur Übertragung von 
                Nachrichten wird in diesem Fall von den \emph{RFDs} ein Polling-Verfahren verwendet: Der Elternknoten des 
                \emph{FFDs} (in den meisten Fällen also der nächstgelegene Router) speichert eine an das \emph{RFD}
                gesendete Nachricht so lange zwischen,
                bis dieses die Nachricht abruft. So ist sichergestellt, dass keine Nachrichten verloren gehen, wenn
                sich der Empfänger gerade im Energiesparmodus befindet.
           

        \subsubsection{Bluetooth Low Energy (ehemals Wibree)}\label{wibree}
            \emph{Bluetooth Low Energy} ist ein neuer Standard für \emph{WPANs}, der mit dem \emph{Bluetooth-4.0}-Standard 
            eingeführt wurde. Er definiert eine Datenübertragung mit bis zu 1~MBit/s (netto 0,26~MBit/s) bei einem 
            Strombedarf, der unter 20~mA liegen soll, wobei laut Spezifikation eine Reichweite von bis zu 100~m erreicht 
            werden kann. \cite{Bluetooth}\\
            Zum Zeitpunkt dieser Diplomarbeit befanden sich Funkchips des \emph{Bluetooth-Low-Energy}-Standards 
            leider noch in der frühen Testphase und waren auf dem Markt nicht erhältlich, so dass dieser Standard 
            bei der Auswahl eines geeigneten Funkprotokolls nicht in die engere Betrachtung gezogen werden konnte.
            Beim späteren Entwurf des Sensornetzwerkes
            ist daher darauf Rücksicht zu nehmen, dass das Funkprotokoll nach Möglichkeit austauschbar gehalten wird,
            so dass es später möglich ist, die entworfene Lösung an geänderte Marktbedingungen anzupassen.
            

    \subsection{Weitere Protokolle}
        Neben den oben erwähnten Protokollen gibt es viele weitere kabellose Übertragungsprotokolle wie beispielsweise 
        der kommende \emph{Wireless-USB}-Standard, \emph{WiMax}, oder Mikrowellen-Richtfunk. Diese Protokolle sind 
        jedoch für die Übertragung mit hohen Datenraten ausgelegt (was in der Regel mit einer dementsprechend 
        hohen Leistungsaufnahme einhergeht), und liegen damit außerhalb des Fokus dieser Arbeit. Ebenfalls nicht
        berücksichtigt werden konnte der \emph{ANT+}-Standard, der sich aktuell vor allem im Bereich von Wellnessgeräten
        wie z.B. Pulsuhren durchzusetzen scheint. Leider handelt es sich hierbei um eine proprietäre Lösung des 
        Herstellers \emph{Dynastream}; entsprechende Bauteile sind momentan auf dem deutschen Markt praktisch nicht
        erhältlich.


    \subsection{Diskussion}
        \nomenclature{Firmware}{Software, die fest in ein Hardware-Gerät eingebettet ist.}
        \nomenclature{Mesh-Netzwerk}{Vermaschtes Netzwerke, meist in Verbindung mit mobilen Ad-Hoc Netzwerken,
                                     bei denen einzelne Knoten spontan Netzwerke bilden.}
        Von den oben genannten Standards scheidet \emph{GSM/UMTS} von vorne herein aufgrund der hohen Betriebskosten aus.
        Auch der \emph{DECT}-Standard kommt nicht in Frage, da die Teilnehmerzahl auf 6 Geräte pro Basisstation beschränkt
        ist. \emph{WLAN} ist zwar grundsätzlich für eine solche Aufgabe geeignet, allerdings fällt der 
        Strombedarf mit über 100~mA für den Einsatz im \emph{Erste-Hilfe-Sensor} zu hoch aus. Von der Leistungsaufnahme 
        prinzipiell möglich wäre der Einsatz von \emph{Bluetooth}, wobei insbesondere der kommende 
        \emph{Bluetooth Low Energy} Standard interessant ist. Auch die
        hohe Störsicherheit wäre ein weiterer Punkt, der für \emph{Bluetooth} spräche. Problematisch ist jedoch die 
        Einschränkung, dass pro \emph{Bluetooth-Piconetz} immer nur 7 Slaves aktiv sein können. Dies ist für die 
        Anforderungen dieser Diplomarbeit deutlich zu wenig.\\
        \\
        Letztendlich erweist sich der \emph{ZigBee}-Standard als am besten für die gewünschte Anwendung geeignet. 
        Die erreichte Datenrate ist für die Übertragung einiger Messwerte und Alarme mehr als ausreichend. Auch die 
        hohe Störsicherheit, die moderaten Stückkosten sowie die vergleichsweise hohe Reichweite sprechen für diese Lösung. 
        Die beiden entscheidenden Kriterien sind jedoch die Fähigkeit von \emph{ZigBee}, dynamische \emph{Mesh}-Netzwerke 
        zu bilden sowie die sehr niedrige Leistungsaufname:\\
        Durch die dynamische Vernetzung mit \emph{Routern} lassen sich auch große Netzwerke realisieren. Das 
        \emph{Routing} wird komplett durch die \emph{Firmware} der \emph{ZigBee}-Module übernommen, so dass dieses 
        nicht erst implementiert werden muss. Der Strombedarf
        der Module ist mit maximal 19~mA so gering, dass eine Versorgung über Batterien ohne weiteres möglich ist.
        Dieser Strombedarf lässt sich durch die Verwendung des Energiesparmodus weiter senken.

\section{Produkte zur kabellosen Patientenüberwachung}\label{produkte_zur_patientenueberwachung}
%\Abbildungps{!htb}{1}{diagramme/Corbelt.jpg}{corbelt}{\emph{CorBELT} der FIrma \emph{CORScience}}
%\Abbildungps{!htb}{1}{diagramme/kabellose_pulsoximetrie.jpg}{kabellose_pulsoximetrie}{Kabelloses Pulsoxymetriesystem der Firma Nonin.}

\nomenclature{Monitor}{Gerät zur Überwachung von Vitaldaten von Patienten.}
\nomenclature{EKG}{Elektrokardiogramm\,--\,Überwachung der Herztätigkeit durch Ableiten elektrischer Signale.}
Auf dem Markt ist eine breite Palette an kabellosen Produkten zur Patientenüberwachung vorhanden. Dies  davon setzen
entweder \emph{Bluetooth} oder proprietäre Protokolle wie \emph{Z-Wave} zur Funkübertragung ein; \emph{ZigBee} ist bisher in
keinem Medizinprodukt auf dem Markt zu finden: Fast alle dieser Systeme sind\,--\,im Gegensatz zu den Anforderungen dieser
Arbeit\,--\,dazu konzipiert, lediglich einen einzelnen 
Patienten zu überwachen. Die Funktechnologie dient hier vor allem dazu, die Anzahl der Kabel zwischen Patient und Monitoren 
zu reduzieren, um so die Mobilität des Patienten zu erhöhen. Die hohe Teilnehmerzahl von \emph{ZigBee} bietet für die 
Überwachung eines einzelnen Patienten keine Vorteile, sondern bedeutet vielmehr einen zusätzlichen Aufwand, so dass Lösungen
wie \emph{Bluetooth} in diesem Fall deutlich praktikabler sind.

Besonders häufig sind kabellose EKG-Geräte, Pulsoximeter oder 
invasive Blutdruckmessgeräte anzutreffen.              
Ein Beispiel für ein solches Produkt ist der \emph{CorBELT} der Firma \emph{Corscience}. Es handelt sich dabei
um ein 1-Kanal EKG mit integriertem Beschleunigungssensor in Form eines Brustgurtes. Das System ist in der
Lage, eine Vielzahl von Herzproblemen zu erkennen, und 
eignet sich daher besonders für Patienten mit bekannten
Herzerkrankungen. Das System hat einen integrierten Beschleunigungssensor, um Bewegungsartefakte auszufiltern.\cite{Corscience}
\\
\\
Von diversen Herstellern wie \emph{Dräger Medical}, \emph{Philips}, \emph{GE} und \emph{WelchAllyn} existiert eine 
Reihe \emph{Bluetooth}-basierter Überwachungslösungen. Diese sind allerdings meist weniger als portables Gerät, als viel 
mehr als stationäre Überwachungslösung im Krankenhaus gedacht. Die \emph{Bluetooth}-Technik dient hier vor allem dazu, 
möglichst wenige Kabel zum Patienten zu führen, was den Umgang (z.B. bei der Patientenwäsche oder beim Wenden)
erheblich erleichtert. Keine dieser Technologien ist jedoch für den Einsatz in einem \emph{MANV}-Szenario
geeignet.
       

\section{Verwandte Projekte zum Einsatz in MANV-Szenarien}\label{verwandte_projekte}
%\Abbildungps{!htb}{1}{diagramme/sogro.jpg}{sogro}{Datenarmbänder und Handgerät des \emph{SOGRO} Projektes.}
\nomenclature{GPS}{Global Positioning System\,--\,Ein Satellitennavigationssystem.}
\nomenclature{TinyOS}{Open-Source-Betriebssystem für Sensornetzwerke.}
Neben dieser Arbeit beschäftigen sich mehrere verwandte Projekte ebenfalls mit der Problematik
der effizienten Patientenversorgung während eines \emph{MANVs}.\\
\\
Bei dem Projekt \emph{SOGRO MANV 500} (Sofortrettung bei Großschadenslagen mit einem Massenanfall von 500 Verletzten)
beschäftigt, man sich insbesondere mit der effizienten
Kennzeichnung und Lokalisierung von Patienten. Hierzu wird den Patienten ein Armband mit integriertem \emph{GPS}-Peilsender 
und Datenspeicher angelegt, auf dem dann die Diagnose digital gespeichert wird. Eine automatische Überwachung ist bei
diesem Projekt allerdings derzeit nicht vorgesehen.\cite{sogro}\\
\\            
Eine weiteres Projekt, das sich mit der technischen Unterstützung von Rettungskräften bei einem \emph{MANV}
beschäftigt ist \emph{A.L.A.R.M.} (Adaptive Lösungsplattform zur Aktiven technischen Unterstützung beim Retten von 
Menschenleben). Im Moment sind nur recht wenige Informationen zu diesem Projekt verfügbar; diese
deuten jedoch darauf hin, dass es bei dem Projekt eher um die Schaffung von einheitlichen Prozessen und Ablaufplanung als um eine
konkrete technische Lösung geht.\cite{alarm}\\
\\
Ein ähnlicher Ansatz wie in dieser Diplomarbeit wird in dem \emph{AID-N} ("`AID-N: The Advanced Health and Disaster 
Aid Network: A Light-Weight Wireless Medical System for Triage"') verfolgt.\cite{aid-n}. Bei diesem Ansatz wird 
intensiv auf die \emph{TinyOS}-Plattform aufgebaut, und wird eine \emph{IEEE-802.15.4}-basierte Lösung eingesetzt. 
Leider scheint dieses Projekt seit mehreren Jahren nicht weiter verfolgt zu werden; auf der Webseite sind seit 2007 keine Änderungen 
mehr vorgenommen worden. Auch wurde hier nicht auf Aspekte der industriellen Fertigung der einzelnen Knoten, d.h. 
insbesondere Kompaktheit und Kosteneffektivität eingegangen. Insgesamt handelt es sich um eine technisch sehr 
interessante Arbeit, die jedoch durch ihren anderen Fokus die Anforderungen dieser Diplomarbeit nicht erfüllen kann.
